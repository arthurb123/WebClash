/// <reference types="node" />
import http from 'http';
import ServerChannel from './wrtc/channel';
import { Data, RoomId, EventCallbackServer, ConnectionEventCallbackServer, EventName, ServerOptions } from '@geckos.io/common/lib/typings';
export declare class GeckosServer {
    private connectionsManager;
    private _port;
    constructor(options: ServerOptions);
    /**
     * Make the server listen on a specific port.
     * @param port Default port is 9208.
     */
    listen(port?: number): void;
    /**
     * Add a existing http server.
     * @param server Your http.Server.
     */
    addServer(server: http.Server): void;
    readonly port: number;
    /**
     * Emit a message to all channels.
     * @param eventName The event name.
     * @param data The data you want to send.
     */
    emit(eventName: EventName, data: Data): void;
    /**
     * Emit a message to a specific room.
     * @param roomId The roomId.
     */
    room(roomId?: RoomId): {
        emit: (eventName: string, data: Data) => void;
    };
    /** Listen for a new connection. */
    onConnection(callback: ConnectionEventCallbackServer): void;
    /**
     * Listen for a message.
     * @param eventName The event name.
     * @param callback The event callback.
     */
    on(eventName: EventName, callback: EventCallbackServer): void;
    private _on;
}
/**
 * The geckos.io server library.
 * @param options.iceServers An array of RTCIceServers. See https://developer.mozilla.org/en-US/docs/Web/API/RTCIceServer.
 * @param options.iceTransportPolicy RTCIceTransportPolicy enum defines string constants which can be used to limit the transport policies of the ICE candidates to be considered during the connection process.
 * @param options.label A human-readable name for the channel. This string may not be longer than 65,535 bytes. Default: 'geckos.io'.
 * @param options.ordered Indicates whether or not messages sent on the RTCDataChannel are required to arrive at their destination in the same order in which they were sent (true), or if they're allowed to arrive out-of-order (false). Default: false.
 * @param options.maxPacketLifeTime The maximum number of milliseconds that attempts to transfer a message may take in unreliable mode. While this value is a 16-bit unsigned number, each user agent may clamp it to whatever maximum it deems appropriate. Default: null.
 * @param options.maxRetransmits The maximum number of times the user agent should attempt to retransmit a message which fails the first time in unreliable mode. While this value is a16-bit unsigned number, each user agent may clamp it to whatever maximum it deems appropriate. Default: 0.
 */
declare const geckosServer: (options?: ServerOptions) => GeckosServer;
export default geckosServer;
export { ServerChannel };
//# sourceMappingURL=server.d.ts.map